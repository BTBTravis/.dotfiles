#+TITLE: Spacemacs Customization
#+AUTHOR: Travis Shears
#+EMAIL: travis.shears@westwing.de

* TODOs
** TODO Add old snippets
   YAS - Ya snippets is the built in but its kinda an ass pain to pull up snippets. Apparently there is snippet support for auto-complete??
 - [ ] Look into auto completion for snippets
 - [ ] JS Snippets [[https://gist.githubusercontent.com/BTBTravis/5b7ae1b83d1a6edbc6dae4328cc529fb/raw/e796f5541f61cd26adf601923c381d1058926b9e/javascript.snippets][gist containing js snippets]]
 - [X] PHP Snippets
*** JS Snippets, github gist export
    #+BEGIN_SRC text
    global !p
    from javascript_snippets import (
      semi, space_before_function_paren, keyword_spacing
    )
    endglobal

    ###########################################################################
    #                            Custom Snippets                            #
    ###########################################################################

    snippet log "Console Log Object Style"
    console.log({"$1": $1});
    endsnippet

    snippet promise "new Promise"
    new Promise(function(resolve, reject) {

    });
    endsnippet

    snippet for "forloop"
    for (var ${1:i} = 0; $1 < ${2:arr}.length; $1++) {
      $0
    }
    endsnippet

    snippet has "does object have property?" 
      $1.hasOwnProperty($0)
    endsnippet

    ###########################################################################
    #                            TextMate Snippets                            #
    ###########################################################################

    snippet get "Get Elements"
    getElement${1/(T)|.*/(?1:s)/}By${1:T}${1/(T)|(I)|.*/(?1:agName)(?2:d)/}('$2')
    endsnippet

    snippet '':f "object method string"
    '${1:${2:#thing}:${3:click}}': function`!p snip.rv = space_before_function_paren(snip)`(element) {
      ${VISUAL}$0
    }${10:,}
    endsnippet

    snippet :f "Object Method"
    ${1:method_name}: function`!p snip.rv = space_before_function_paren(snip)`(${3:attribute}) {
      ${VISUAL}$0
    }${10:,}
    endsnippet

    snippet :, "Object Value JS"
    ${1:value_name}: ${0:value},
    endsnippet

    snippet : "Object key key: 'value'"
    ${1:key}: ${2:"${3:value}"}${4:, }
    endsnippet

    snippet proto "Prototype (proto)"
    ${1:class_name}.prototype.${2:method_name} = function`!p snip.rv = space_before_function_paren(snip)`(${3:first_argument}) {
      ${VISUAL}$0
    }`!p snip.rv = semi(snip)`

    endsnippet

    snippet fun "function (fun)" w
    function ${1:function_name}`!p snip.rv = space_before_function_paren(snip)`(${2:argument}) {
      ${VISUAL}$0
    }
    endsnippet

    snippet vf "Function assigned to var"
    ${1:var }${2:function_name} = function $2`!p snip.rv = space_before_function_paren(snip)`($3) {
      ${VISUAL}$0
    }`!p snip.rv = semi(snip)`
    endsnippet

    snippet af "Anonymous Function" i
    function`!p snip.rv = space_before_function_paren(snip)`($1) {
      ${VISUAL}$0
    }
    endsnippet

    snippet iife "Immediately-Invoked Function Expression (iife)"
    (function`!p snip.rv = space_before_function_paren(snip)`(${1:window}) {
      ${VISUAL}$0
    }(${2:$1}))`!p snip.rv = semi(snip)`
    endsnippet

    snippet ;fe "Minify safe iife"
    ;(function`!p snip.rv = space_before_function_paren(snip)`(${1}) {
      ${VISUAL}$0
    }(${2}))
    endsnippet

    snippet timeout "setTimeout function"
    setTimeout(function`!p snip.rv = space_before_function_paren(snip)`() {
      ${VISUAL}$0
    }${2:.bind(${3:this})}, ${1:10})`!p snip.rv = semi(snip)`
    endsnippet

    snippet fi "for prop in obj using hasOwnProperty" b
    for`!p snip.rv = keyword_spacing(snip)`(${1:prop} in ${2:obj}){
      if`!p snip.rv = keyword_spacing(snip)`($2.hasOwnProperty($1)) {
        ${VISUAL}$0
      }
    }
    endsnippet

    snippet if "if (condition) { ... }"
    if`!p snip.rv = keyword_spacing(snip)`(${1:true}) {
      ${VISUAL}$0
    }
    endsnippet

    snippet ife "if (condition) { ... } else { ... }"
    if`!p snip.rv = keyword_spacing(snip)`(${1:true}) {
      ${VISUAL}$0
    }`!p snip.rv = keyword_spacing(snip)`else`!p snip.rv = keyword_spacing(snip)`{
      ${2}
    }
    endsnippet

    snippet switch
    switch`!p snip.rv = keyword_spacing(snip)`(${VISUAL}${1:expression}) {
      case '${VISUAL}${3:case}':
        ${4}
        break`!p snip.rv = semi(snip)`
      ${0}
      default:
        ${2}
    }
    endsnippet

    snippet case "case 'xyz': ... break"
    case`!p snip.rv = keyword_spacing(snip)`'${VISUAL}${1:case}':
      ${VISUAL}$0
      break`!p snip.rv = semi(snip)`
    endsnippet

    snippet do "do { ... } while (condition)"
    do`!p snip.rv = keyword_spacing(snip)`{
      ${VISUAL}$0
    }`!p snip.rv = keyword_spacing(snip)`while`!p snip.rv = keyword_spacing(snip)`(${1:/* condition */})`!p snip.rv = semi(snip)`
    endsnippet

    snippet ret "Return statement"
    return ${VISUAL}$0`!p snip.rv = semi(snip)`
    endsnippet

    snippet us
    'use strict'`!p snip.rv = semi(snip)`
    endsnippet
    #+END_SRC
   
 

** TODO Add script / function to ssh into club fpm container and gulp sass
 Needs to print the results some how so we can tell if there are any errors so maybe it opens a shell, term/eshell, and runs the needed commands
 Maybe this could be part of a west wing layer? that has all the shell commands stuff from Gabor's bash alaises
** DONE setup script to launch current emacs file in php storem for debugging
   CLOSED: [2018-07-30 Mon 21:04]
   PHP bin location: /usr/local/bin/pstorm
   executing external commands https://www.emacswiki.org/emacs/ExecuteExternalCommand
** DONE Add some themes
   CLOSED: [2018-07-30 Mon 20:26]
   via theme layer?
** DONE Add auto compleation
   CLOSED: [2018-07-23 Mon 08:10]
 [[https://github.com/syl20bnr/spacemacs/tree/master/layers/%2Btools/ycmd][You Complete Me Layer]] seems like a good place to start its runs externally to emacs and communicates with the software much unline how its built into vim I think. 
 Possibly better layer would be 'auto complete' mentioned by Mike Zamansky
 *Enabled auto-complete layer checkout [[https://github.com/syl20bnr/spacemacs/tree/master/layers/%2Bcompletion/auto-completion][docs]]
** DONE Test tags are working in php and add them if needed
   CLOSED: [2018-07-30 Mon 20:09]
  Spacemacs alrady has built in tag system I think.
  + guten tags??
  + ctags??

** DONE Checkout https://spin.atomicobject.com/2017/08/31/awesome-spacemacs-features/
   CLOSED: [2018-07-30 Mon 20:10]

** DONE Move this into a ~/spacemacs.org file
   CLOSED: [2018-07-30 Mon 20:10]

** DONE install ac-ispell@auto
   CLOSED: [2018-07-30 Mon 10:11]
   --> installing package: ac-ispell@auto-completion... [1/2]
   Package ac-ispell is unavailable. Is the package name misspelled?
   Problem:
     spelling packing not loading properly
   Solution: 
     seems to be linked to this package being for auto-complete and we are currently using company so I somply disabled the spell check layer

** DONE install php-extras@php
   CLOSED: [2018-07-30 Mon 10:10]
   Problem:
   --> installing package: php-extras@php... [2/2]
   An error occurred while installing php-extras (error: (wrong-type-argument package-desc nil))
   Fix: 
   replace 'github' installed package with locally installed one
   File Location: [[file:~/.emacs.d/layers/+lang/php/packages.el][file:~/.emacs.d/layers/+lang/php/packages.el]]
   
   Write a shell script to do this automatically?
   Started in [[file:~/dotfiles/php-extra-fix.sh::#!/usr/bin/env%20bash][fix-php-extras.sh]]   

   current repo location:
   ./play/php-extras                                                                           â”‚drwxr-xr-x   9 t.shears  163044306   288B Jul 25 16:51 dotfiles_old

   should be cloned to ~/dotfiles/spacemacs-fixes/instead

** DONE setup xdebug for PHP Strome again
   CLOSED: [2018-07-30 Mon 10:33]
   ask Jake
   *Run/Debug Configurations*
   name: alice
   server: docker
   ide key: alice, bob, cli
   default ports..
   use ip from: $(docker-machine ip club)...
   *Path mapping*
   perferences server:/application = local:/sources
   

* Reminders
  mc/mark-lines for mutiple curser stuffs [[https://github.com/magnars/multiple-cursors.el][repo]]
  *magit-ediff* to solve git conflicts via *e* over file unmerged file in magit
  *SPC m g d* jump to tag definition - [[https://github.com/syl20bnr/spacemacs/tree/master/layers/%2Btags/gtags][tag docs]]
  *follow-mode* on long CSS docs
  *kill-some-buffers* is handy to clean up a session between tasks without having to close
** ORG mode
  *C-c C-l* To insert link
  *C-c l* To store link
** Searching
    *SPC s e* search current doc for yanked word, if you can't find it in current doc follow that up with "Spc /" then paste to into 
    *SPC s a f* ag search certin dir 
    *C-c C-e* While searching to pop out of search buffer this can be followed up by at *C-c C-C* to save the changes??
    *find-file-at-point* with cursor over a file name no matter what mode you are in

* Resources 
- [ ] Planet Emacs
- [ ] Youtube: org mode stuff uncle dave
- [ ] Youtube: build fun things
- [ ] [[https://gist.github.com/davoclavo/d41cd86ffda22f1649e4][Cheatsheet]]
- [ ] [[http://www.modernemacs.com/][Modern Emacs]] 
- [X] [[https://gitter.im/syl20bnr/spacemacs][Gitter Chat]]! My first gitter chat 
- [X] Youtube: Mike Zamansky 

